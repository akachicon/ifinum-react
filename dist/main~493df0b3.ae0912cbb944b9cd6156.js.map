{"version":3,"file":"main~493df0b3.ae0912cbb944b9cd6156.js","sources":["webpack:///./components/app.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { hot } from 'react-hot-loader';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport {\n  writeRecord,\n  readRecords,\n  removeRecord,\n  updateRecord,\n} from '../api';\nimport { ListPage, CreatorPage } from './pages';\nimport style from '../style.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createInvoice = this.createInvoice.bind(this);\n    this.updateInvoice = this.updateInvoice.bind(this);\n    this.removeInvoice = this.removeInvoice.bind(this);\n    this.state = {\n      invoices: [],\n    };\n  }\n\n  componentDidMount() {\n    this.readInvoices();\n  }\n\n  readInvoices() {\n    return readRecords().then((invoices) => {\n      this.setState({ invoices });\n\n      return Promise.resolve(invoices);\n    });\n  }\n\n  createInvoice(invoice) {\n    return writeRecord(invoice).then(() => (\n      this.readInvoices()\n    ));\n  }\n\n  updateInvoice(invoice) {\n    return updateRecord(invoice).then(() => (\n      this.readInvoices()\n    ));\n  }\n\n  removeInvoice(invoiceId) {\n    return removeRecord(invoiceId).then(() => (\n      this.readInvoices()\n    ));\n  }\n\n  render() {\n    const { invoices } = this.state;\n    const { createInvoice, removeInvoice, updateInvoice } = this;\n\n    return (\n      <Router>\n        <div className={style.wrapper}>\n          <h1>\n            Invoice App\n          </h1>\n\n          <Route\n            path=\"/\"\n            exact\n            render={() => (\n              <ListPage\n                invoices={invoices}\n                removeInvoice={removeInvoice}\n              />\n            )}\n          />\n\n          <Route\n            path=\"/create-invoice\"\n            render={() => (\n              <CreatorPage\n                saveInvoice={createInvoice}\n                action=\"create\"\n                invoices={invoices}\n              />\n            )}\n          />\n\n          <Route\n            path=\"/edit-invoice\"\n            render={() => (\n              <CreatorPage\n                saveInvoice={updateInvoice}\n                action=\"update\"\n                invoices={invoices}\n              />\n            )}\n          />\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default hot(module)(App);\n"],"mappings":"AAAA","sourceRoot":""}